html_nodes('.board_list')
html %>%
html_nodes('.content_middle') %>%
html_nodes('.content_left') %>%
html_nodes('.box_detail_content') %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
lis
html %>%
html_nodes('.content_middle') %>%
html_nodes('.content_left') %>%
html_nodes('.box_detail_content') %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
html %>%
html_nodes('.content_middle') %>%
html_nodes('.content_left') %>%
html_nodes('.box_detail_content') %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
html <- read_html(url_base, encoding = "euc-kr")
html %>%
html_nodes('.content_middle') %>%
html_nodes('.content_left') %>%
html_nodes('.box_detail_content') %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
url_base <- 'https://movie.naver.com/movie/bi/mi/basic.nhn?code=173123'
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.obj_section') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.input_netizen') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
# NAVER 영화('스파이더맨') 전문가리뷰 크롤링
library(rvest)
library(stringr)
library(dplyr)
trim <- function(x) gsub("^\\s+|\\s+$", "", x)
# NAVER 영화('스파이더맨') 전문가리뷰 크롤링
library(rvest)
library(stringr)
library(dplyr)
trim <- function(x) gsub("^\\s+|\\s+$", "", x)
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=173123#pointAfterTab'
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
url <- paste0(url_base, encoding="UTF-8")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.input_netizen') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=173123#pointAfterTab'
url <- paste0(url_base, encoding="UTF-8")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.input_netizen') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
html %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.ifr_module2')
html_nodes('.score_result') %>%
html_nodes('li') -> lis
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.ifr_module2')
html_nodes('.score_result') %>%
html_nodes('li') -> lis
html %>%
html_nodes('.ifr_module2') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
library(xlsx)
library(KoNLP)
remove.packages("rJava")
install.packages("rJava")
install.packages("rJava")
library(KoNLP)
library(xlsx)
library(dplyr)
library(stringr)
library(wordcloud2)
buildDictionary(ext_dic = "woorimalsam")
rlc <- Corpus(VectorSource(rl))
library(tm)
# data <- read.csv("cine.csv", encoding = "euc-kr")
#
# sR <- data %>%
#   select(review)
# write.table(sR, "review.txt")
rl <- readLines("review.txt", encoding = "euc-kr")
setwd("D:/Workspace/R_Project/crawling_pro")
# data <- read.csv("cine.csv", encoding = "euc-kr")
#
# sR <- data %>%
#   select(review)
# write.table(sR, "review.txt")
rl <- readLines("review.txt", encoding = "euc-kr")
rlc <- Corpus(VectorSource(rl))
rlc <- tm_map(rlc, removePunctuation)
rlc <- tm_map(rlc, removeNumbers)
rlc <- tm_map(rlc, tolower)
rlc <- tm_map(rlc, removeWords, stopwords('english'))
head(rlc)
inspect(rlc)
rlc_txt <- tm_map(rlc, PlainTextDocument)
rlc_txt
inspect(rlc_txt)
rlc_txt <- TermDocumentMatrix(rlc_txt, control=list(wordLengths=c(2,Inf)))
View(rlc_txt)
library(KoNLP)
library(xlsx)
library(dplyr)
library(stringr)
library(wordcloud2)
library(tm)
buildDictionary(ext_dic = "woorimalsam")
rl <- readLines("review.txt", encoding = "euc-kr")
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("""","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl <- gsub("”","",rl)
rl <- gsub('[ㄱ-ㅎ]','',rl)
rl <- gsub('(ㅜ|ㅠ)+','',rl)
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl
rl <- gsub("\\d+","",rl)
rl <- gsub("\\n","",rl)
rl <- gsub("\\.","",rl)
rl <- gsub("\n","",rl)
rl <- gsub(" ","",rl)
rl <- gsub("-","",rl)
head(rl)
rl
rl <- gsub(""\"", "", rl)
rl <- gsub("[^A-Za-z가-힣[:space:][:digit:][:punct:]]", "", rl)
rl
rl <- gsub("'\'", "", rl)
rl
rl <- gsub('\\', "", rl)
rl <- gsub('\\\\', "", rl)
rl
trimws(rl = string)
trimws(x = rl)
rl <- readLines("review.txt", encoding = "euc-kr")
trimws(x = rl)
rl <- gsub("\\n","",rl)
rl
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl
rl <- rl[rl !=""]
rl
str_trim(rl, side="both")
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl <- gsub('[ㄱ-ㅎ]','',rl)
rl <- gsub('(ㅜ|ㅠ)+','',rl)
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl <- gsub("\\d+","",rl)
rl <- gsub("\\n","",rl)
rl <- gsub("\\.","",rl)
rl <- gsub("\n","",rl)
rl <- gsub("-","",rl)
rl
rle <- lapply(rl, extractNoun)
head(rle)
rl2 <- unlist(rle)
rl2
wordc <- table(rl2)
wordc
head(wordc)
rlf <- Filter(function(x) {nchar(x)<=2 & nchar(x) >= 7},rle)
rlu <- unlist(rlf)
wordc <- table(rlu)
head(wordc)
rlf
rlf <- Filter(function(x) {nchar(x)<=2 && nchar(x) >= 7},rle)
rlf
rlf <- Filter(function(x) {nchar(x) <= 7},rle)
rlf
rlu <- unlist(rlf)
wordc <- table(rlu)
head(wordc)
wordc <- table(rlu, decresing=T)
sw <- sort(rlu)
sw
sw <- sort(rlu, decreasing = T)
sw
wordc <- table(sw, decresing=T)
sw <- sort(table(rlu), decreasing = T)
sw
wordcloud2(sw)
rl <- gsub("영화","",rl)
rl <- gsub("한","",rl)
rlf <- gsub("영화","",rlf)
rlf <- gsub("한","",rlf)
rlf <- gsub("말","",rlf)
rlf <- gsub("것","",rlf)
rlf <- gsub("번","",rlf)
rlf <- gsub("내","",rlf)
rlf <- gsub("점","",rlf)
rlf <- gsub("때","",rlf)
rlf <- gsub("화","",rlf)
rlf <- gsub("적","",rlf)
rlf <- gsub("중","",rlf)
rlf <- gsub("이","",rlf)
rlf <- gsub("이영","",rlf)
rlf <- gsub("몇","",rlf)
rlf <- gsub("년","",rlf)
rlu <- unlist(rlf)
sw <- sort(table(rlu), decreasing = T)
wordc <- table(sw, decresing=T)
rlu <- unlist(rlf)
sw <- sort(table(rlu), decreasing = T)
wordc <- table(sw, decresing=T)
sw <- sort(table(rlu), decreasing = T)
sw
head(sw)
buildDictionary(ext_dic = "woorimalsam")
rl <- readLines("review.txt", encoding = "euc-kr")
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl <- gsub('[ㄱ-ㅎ]','',rl)
rl <- gsub('(ㅜ|ㅠ)+','',rl)
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl <- gsub("\\d+","",rl)
rl <- gsub("\\n","",rl)
rl <- gsub("\\.","",rl)
rl <- gsub("\n","",rl)
rl <- gsub("-","",rl)
rl <- gsub("영화","",rl)
rl <- gsub("한","",rl)
rl <- gsub("말","",rl)
rl <- gsub("것","",rl)
rl <- gsub("번","",rl)
rl <- gsub("내","",rl)
rl <- gsub("점","",rl)
rl <- gsub("때","",rl)
rl <- gsub("화","",rl)
rl <- gsub("적","",rl)
rl <- gsub("중","",rl)
rl <- gsub("이","",rl)
rl <- gsub("이영","",rl)
rl <- gsub("몇","",rl)
rl <- gsub("년","",rl)
rl
rle <- lapply(rl, extractNoun)
rlf <- Filter(function(x) {nchar(x) <= 7},rle)
rlu <- unlist(rlf)
sw <- sort(table(rlu), decreasing = T)
head(sw)
wordcloud2(sw)
rlf <- Filter(function(x) { 1 < nchar(x) <= 7},rle)
rlf <- Filter(function(x) { nchar(x) <= 7, nchar(x) > 1 },rle)
rlf <- Filter(function(x) { nchar(x) <= 7 & nchar(x) > 1 },rle)
rlu <- unlist(rlf)
sw <- sort(table(rlu), decreasing = T)
head(sw)
rlf <- Filter(function(x) { nchar(x) <= 7 & nchar(x) > 1 },rle)
rlu <- unlist(rlf)
sw <- sort(table(rlu), decreasing = T)
head(sw)
wordcloud2(sw)
rlf <- Filter(function(x) { nchar(x) <= 7 & nchar(x) >= 2 },rle)
rlu <- unlist(rlf)
sw <- sort(table(rlu), decreasing = T)
head(sw)
rlf <- Filter(function(x) ( nchar(x) <= 7 & nchar(x) >= 2 ),rle)
rlu <- unlist(rlf)
sw <- sort(table(rlu), decreasing = T)
head(sw)
library(KoNLP)
# remove.packages("rJava")
# install.packages("rJava")
library(xlsx)
library(dplyr)
library(stringr)
library(wordcloud2)
library(tm)
buildDictionary(ext_dic = "woorimalsam")
rl <- readLines("review.txt", encoding = "euc-kr")
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl <- gsub('[ㄱ-ㅎ]','',rl)
rl <- gsub('(ㅜ|ㅠ)+','',rl)
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl <- gsub("\\d+","",rl)
rl <- gsub("\\n","",rl)
rl <- gsub("\\.","",rl)
rl <- gsub("\n","",rl)
rl <- gsub("-","",rl)
rl <- gsub("영화","",rl)
rl <- gsub("한","",rl)
rl <- gsub("말","",rl)
rl <- gsub("것","",rl)
rl <- gsub("번","",rl)
rl <- gsub("내","",rl)
rl <- gsub("점","",rl)
rl <- gsub("때","",rl)
rl <- gsub("화","",rl)
rl <- gsub("적","",rl)
rl <- gsub("중","",rl)
rl <- gsub("이","",rl)
rl <- gsub("이영","",rl)
rl <- gsub("몇","",rl)
rl <- gsub("년","",rl)
rlf <- Filter(function(x) ( nchar(x) <= 7 & nchar(x) >= 2 ),rle)
rlf <- Filter(function(x) { nchar(x) <= 7 & nchar(x) >= 2 ),rle}
rlf <- Filter(function(x) { nchar(x) <= 7 & nchar(x) >= 2 },rle)
rlf <- Filter(function(x) { nchar(x) >= 2 && nchar(x) <= 7 },rle)
rlf <- Filter(function(x) ( nchar(x) >= 2 && nchar(x) <= 7 ),rle)
rlf <- Filter{function(x) ( nchar(x) >= 2 && nchar(x) <= 7 ),rle}
rlf <- Filter(function(x) { nchar(x) >= 2 && nchar(x) <= 7 } , rle)
rlf <- Filter(function(x) { nchar(x) >= 2 & nchar(x) <= 7 } , rle)
rlf <- Filter(function(x) (nchar(x) >= 2 & nchar(x) <= 7 ) , rle)
rlf <- Filter(function(x) {nchar(x) >= 2 & nchar(x) <= 7} , rle)
rlf <- Filter(function(x) {nchar(x)  <= 7} , rle)
rlf <- Filter(function(x) {\(nchar(x)  <= 7) , rle)
rlf <- Filter(function(x) (nchar(x)  <= 7) , rle)
rlf <- Filter(function(x) (nchar(x)  <= 7) , rl)
rlf <- Filter(function(x) (nchar(x)  <= 7 & nchar(x) <= 2) , rl)
rl <- Filter(function(x) (nchar(x)  <= 7 & nchar(x) <= 2) , rl)
library(KoNLP)
# remove.packages("rJava")
# install.packages("rJava")
library(xlsx)
library(dplyr)
library(stringr)
library(wordcloud2)
library(tm)
buildDictionary(ext_dic = "woorimalsam")
rl <- readLines("review.txt", encoding = "euc-kr")
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl <- gsub('[ㄱ-ㅎ]','',rl)
rl <- gsub('(ㅜ|ㅠ)+','',rl)
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl <- gsub("\\d+","",rl)
rl <- gsub("\\n","",rl)
rl <- gsub("\\.","",rl)
rl <- gsub("\n","",rl)
rl <- gsub("-","",rl)
rl <- gsub("영화","",rl)
rl <- gsub("한","",rl)
rl <- gsub("말","",rl)
rl <- gsub("것","",rl)
rl <- gsub("번","",rl)
rl <- gsub("내","",rl)
rl <- gsub("점","",rl)
rl <- gsub("때","",rl)
rl <- gsub("화","",rl)
rl <- gsub("적","",rl)
rl <- gsub("중","",rl)
rl <- gsub("이","",rl)
rl <- gsub("이영","",rl)
rl <- gsub("몇","",rl)
rl <- gsub("년","",rl)
rl <- Filter(function(x) (nchar(x)  <= 7 & nchar(x) <= 2) , rl)
rle <- lapply(rl, extractNoun)
rlf <- Filter(function(x) ( nchar(x) <= 7 & nchar(x) >= 2 ),rle)
rlu <- unlist(rlf)
sw <- sort(table(rlu), decreasing = T)
head(sw)
library(KoNLP)
# remove.packages("rJava")
# install.packages("rJava")
library(xlsx)
library(dplyr)
library(stringr)
library(wordcloud2)
library(tm)
buildDictionary(ext_dic = "woorimalsam")
rl <- readLines("review.txt", encoding = "euc-kr")
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl <- gsub('[ㄱ-ㅎ]','',rl)
rl <- gsub('(ㅜ|ㅠ)+','',rl)
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl <- gsub("\\d+","",rl)
rl <- gsub("\\n","",rl)
rl <- gsub("\\.","",rl)
rl <- gsub("\n","",rl)
rl <- gsub("-","",rl)
rl <- gsub("영화","",rl)
rl <- gsub("한","",rl)
rl <- gsub("말","",rl)
rl <- gsub("것","",rl)
rl <- gsub("번","",rl)
rl <- gsub("내","",rl)
rl <- gsub("점","",rl)
rl <- gsub("때","",rl)
rl <- gsub("화","",rl)
rl <- gsub("적","",rl)
rl <- gsub("중","",rl)
rl <- gsub("이","",rl)
rl <- gsub("이영","",rl)
rl <- gsub("몇","",rl)
rl <- gsub("년","",rl)
rl <- Filter(function(x) (nchar(x)  <= 7 & nchar(x) <= 2) , rl)
rle <- lapply(rl, extractNoun)
rl <- readLines("review.txt", encoding = "euc-kr")
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl <- gsub('[ㄱ-ㅎ]','',rl)
rl <- gsub('(ㅜ|ㅠ)+','',rl)
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl <- gsub("\\d+","",rl)
rl <- gsub("\\n","",rl)
rl <- gsub("\\.","",rl)
rl <- gsub("\n","",rl)
rl <- gsub("-","",rl)
rl <- gsub("영화","",rl)
rl <- gsub("한","",rl)
rl <- gsub("말","",rl)
rl <- gsub("것","",rl)
rl <- gsub("번","",rl)
rl <- gsub("내","",rl)
rl <- gsub("점","",rl)
rl <- gsub("때","",rl)
rl <- gsub("화","",rl)
rl <- gsub("적","",rl)
rl <- gsub("중","",rl)
rl <- gsub("이","",rl)
rl <- gsub("이영","",rl)
rl <- gsub("몇","",rl)
rl <- gsub("년","",rl)
rl <- Filter(function(x) (nchar(x)  <= 7 & nchar(x) >= 2) , rl)
rle <- lapply(rl, extractNoun)
View(rle)
rl <- readLines("review.txt", encoding = "euc-kr")
rl <- Filter(function(x) (nchar(x)  <= 7 & nchar(x) >= 2) , rl)
rl <- readLines("review.txt", encoding = "euc-kr")
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl <- gsub('[ㄱ-ㅎ]','',rl)
rl <- gsub('(ㅜ|ㅠ)+','',rl)
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl <- gsub("\\d+","",rl)
rl <- gsub("\\n","",rl)
rl <- gsub("\\.","",rl)
rl <- gsub("\n","",rl)
rl <- gsub("-","",rl)
rl <- gsub("영화","",rl)
rl <- gsub("한","",rl)
rl <- gsub("말","",rl)
rl <- gsub("것","",rl)
rl <- gsub("번","",rl)
rl <- gsub("내","",rl)
rl <- gsub("점","",rl)
rl <- gsub("때","",rl)
rl <- gsub("화","",rl)
rl <- gsub("적","",rl)
rl <- gsub("중","",rl)
rl <- gsub("이","",rl)
rl <- gsub("이영","",rl)
rl <- gsub("몇","",rl)
rl <- gsub("년","",rl)
rle <- lapply(rl, extractNoun)
rlf <- Filter(function(x) ( nchar(x) <= 7 & nchar(x) >= 2 ),rle)
rlu <- unlist(rlf)
sw <- sort(table(rlu), decreasing = T)
head(sw)
wordcloud2(sw)
