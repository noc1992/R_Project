html_nodes('li') -> lis
lis
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=163788#tab'
url %>%
html_nodes('.content_middle') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=163788#tab'
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.obj_section') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
View(lis)
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
x <- content(GET(url_base),"raw")
guess_encoding(x)
url <- read_html(url_base, encoding = "EUC-kr")
url
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=163788#tab'
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
x <- content(GET(url_base),"raw")
guess_encoding(x)
url <- read_html(url_base, encoding = "EUC-kr")
url
url %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
url %>%
html_nodes('.wrapper') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
url <- read_html(url_base, encoding = "EUC-kr")
url
url %>%
html_nodes('.box_detail_review') %>%
html_nodes('.comment_wrap') %>%
html_nodes('li') -> lis
lis
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
url <- read_html(url_base, encoding = "EUC-kr")
url
url %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
url %>%
html_nodes('.borad_list') %>%
html_nodes('comment_wrap') %>%
html_nodes('li') -> lis
lis
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=163788#tab'
html <- read_html(url, encoding = "euc-kr")
html <- read_html(url_base, encoding = "euc-kr")
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=163788#tab'
html <- read_html(url_base, encoding = "euc-kr")
html <- read_html(url_base, encoding = "EUC-kr")
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
url <- read_html(url_base)
url <- read_html(url_base, encoding = "euc-kr")
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
html <- read_html(url,encoding = "EUC-kr")
url <- paste0(url_base, encoding="EUC-kr")
html <- read_html(url)
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
html <- read_html(url,encoding = "EUC-kr")
html <- read_html(url,encoding = "EUC-kr")
html <- read_html(url_base,encoding = "EUC-kr")
html %>%
html_nodes('.borad_list') %>%
html_nodes('comment_wrap') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.borad_list') %>%
html_nodes('.comment_wrap') %>%
html_nodes('li') -> lis
html %>%
html_nodes('.box_detail_review') %>%
html_nodes('.borad_list') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.box_detail_content') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
html %>%
html_nodes('.content_left') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('content_middle') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=163788#tab'
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.obj_section') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
view(lis)
View(lis)
html %>%
html_nodes('.content_middle') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
html <- read_html(url_base,encoding = "EUC-kr")
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
html <- read_html(url_base,encoding = "EUC-kr")
html %>%
html_nodes('.content_middle') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
html <- read_html(url_base,encoding = "EUC-kr")
html %>%
html_nodes('.board_list') %>%
html_nodes('.id') %>%
html_nodes('kloverRating') %>%
html_nodes('txt') %>%
html_nodes('li') -> lis
library(rvest)
library(stringr)
library(dplyr)
library(httr)
trim <- function(x) gsub("^\\s+|\\s+$", "", x)
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
html <- read_html(url_base,encoding = "EUC-kr")
html %>%
html_nodes('.board_list') %>%
html_nodes('.id') %>%
html_nodes('kloverRating') %>%
html_nodes('txt') %>%
html_nodes('li') -> lis
lis
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=163788#tab'
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
score <- c()
reple <- c()
company <- c()
name <- c()
for (li in lis) {
star_score <- html_node(li, '.star_score')
score <- c(score, trim(html_text(star_score, 'em')))
li %>%
html_node('.score_reple') %>%
html_text('.score_reple') %>%
trim() %>%
str_split("\r\n") %>%
.[[1]] -> rep
reple <- c(reple, trim(rep[1]))
company <- c(company, trim(rep[2]))
name <- c(name, str_sub(trim(rep[4]), 3, -1))
}
html %>%
html_nodes('.obj_section') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
score <- c()
reple <- c()
company <- c()
name <- c()
for (li in lis) {
star_score <- html_node(li, '.star_score')
score <- c(score, trim(html_text(star_score, 'em')))
li %>%
html_node('.score_reple') %>%
html_text('.score_reple') %>%
trim() %>%
str_split("\r\n") %>%
.[[1]] -> rep
reple <- c(reple, trim(rep[1]))
company <- c(company, trim(rep[2]))
name <- c(name, str_sub(trim(rep[4]), 3, -1))
}
review = data.frame(score=score, reple=reple, company=company, name=name)
review
trim <- function(x) gsub("^\\s+|\\s+$", "", x)
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=163788#tab'
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.obj_section') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
score <- c()
reple <- c()
company <- c()
name <- c()
for (li in lis) {
star_score <- html_node(li, '.star_score')
score <- c(score, trim(html_text(star_score, 'em')))
li %>%
html_node('.score_reple') %>%
html_text('.score_reple') %>%
trim() %>%
str_split("\r\n") %>%
.[[1]] -> rep
reple <- c(reple, trim(rep[1]))
company <- c(company, trim(rep[2]))
name <- c(name, str_sub(trim(rep[4]), 3, -1))
}
review = data.frame(score=score, reple=reple, company=company, name=name)
review
html %>%
html_nodes('.box_detail_content') %>%
html_nodes('.borad_list') %>%
html_nodes('li') -> lis
lis
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
html <- read_html(url_base,encoding = "EUC-kr")
html %>%
html_nodes('.box_detail_content') %>%
html_nodes('.borad_list') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.box_detail_review') %>%
html_nodes('.borad_list') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.borad_list') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.borad_list')
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
html <- read_html(url_base,encoding = "EUC-kr")
html %>%
html_nodes('.borad_list')
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
html <- read_html(url_base,encoding = "EUC-kr")
html %>%
html_nodes('.borad_list')
View(html)
html_nodes(html, '.borad_list')
html <- read_html(url_base, encoding = "euc-kr")
html_nodes(html, '.borad_list')
html_nodes(html, '.box_detail_review')
html %>%
html_nodes('.box_detail_review')
html %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list')
html %>%
html_nodes('.content_middle') %>%
html_nodes('.content_left') %>%
html_nodes('.box_detail_content') %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
lis
html %>%
html_nodes('.content_middle') %>%
html_nodes('.content_left') %>%
html_nodes('.box_detail_content') %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
html %>%
html_nodes('.content_middle') %>%
html_nodes('.content_left') %>%
html_nodes('.box_detail_content') %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
url_base <- 'http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&mallGb=KOR&barcode=9788956604992&orderClick=LAG&Kc=#N'
html <- read_html(url_base, encoding = "euc-kr")
html %>%
html_nodes('.content_middle') %>%
html_nodes('.content_left') %>%
html_nodes('.box_detail_content') %>%
html_nodes('.box_detail_review') %>%
html_nodes('.board_list') %>%
html_nodes('li') -> lis
lis
url_base <- 'https://movie.naver.com/movie/bi/mi/basic.nhn?code=173123'
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.obj_section') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.input_netizen') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
# NAVER 영화('스파이더맨') 전문가리뷰 크롤링
library(rvest)
library(stringr)
library(dplyr)
trim <- function(x) gsub("^\\s+|\\s+$", "", x)
# NAVER 영화('스파이더맨') 전문가리뷰 크롤링
library(rvest)
library(stringr)
library(dplyr)
trim <- function(x) gsub("^\\s+|\\s+$", "", x)
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=173123#pointAfterTab'
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
url <- paste0(url_base, encoding="UTF-8")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.input_netizen') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=173123#pointAfterTab'
url <- paste0(url_base, encoding="UTF-8")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.input_netizen') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
html %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
html %>%
html_nodes('.ifr_module2')
html_nodes('.score_result') %>%
html_nodes('li') -> lis
url <- paste0(url_base, encoding="euc-kr")
html <- read_html(url)
head(html)
html
html %>%
html_nodes('.ifr_module2')
html_nodes('.score_result') %>%
html_nodes('li') -> lis
html %>%
html_nodes('.ifr_module2') %>%
html_nodes('.score_result') %>%
html_nodes('li') -> lis
lis
library(RSelenium)
install.packages("RSelenium")
library(RSelenium)
library(rvest)
library(stringr)
setwd("D:/Workspace/R_Project")
remDr<-remoteDriver(remoteServerAddr="localhost", port=4445L, browserName="chrome")
remDr$open()
remDr<-remoteDriver(remoteServerAddr="localhost", port=4445L, browserName="chrome")
remDr$open()
library(RSelenium)
library(rvest)
library(stringr)
trim <- function (x) gsub("^\\s+|\\s+$", "", x)
remDr<-remoteDriver(remoteServerAddr="localhost", port=4445L, browserName="chrome")
remDr$open()
remDr$open()
library(RSelenium)
library(rvest)
library(stringr)
trim <- function (x) gsub("^\\s+|\\s+$", "", x)
remDr<-remoteDriver(remoteServerAddr="localhost", port=4445L, browserName="chrome")
remDr$open()
library(dplyr)
library(stringr)
library(tm)
library(ggplot2)
library(tidyverse)
library(showtext)
library(lubridate)
library(nycflights13)
library(RColorBrewer)
library(extrafont)
setwd("D:/Workspace/R_Project/crawling_pro")
library(KoNLP)
library(dplyr)
library(stringr)
library(wordcloud2)
library(tm)
buildDictionary(ext_dic = "woorimalsam")
rl <- readLines("review.txt", encoding = "euc-kr")
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl <- gsub('[ㄱ-ㅎ]','',rl)
rl <- gsub('(ㅜ|ㅠ)+','',rl)
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl <- gsub("\\d+","",rl)
rl <- gsub("\\n","",rl)
rl <- gsub("\\.","",rl)
rl <- gsub("\n","",rl)
rl <- gsub("-","",rl)
rll <- lapply(rl, extractNoun)
head(rll)
gsub_txt <- readLines("c_gsub.txt")
cnt_txt <- length(gsub_txt)
for (i in 1:cnt_txt) {
rll <- gsub((gsub_txt[i]),"",rll)
}
rlf <- Filter(function(x) ( nchar(x) <= 7 & nchar(x) >= 2),rll)
rlu <- unlist(rlf)
sw <- sort(table(rlf), decreasing = T)
head(sw,30)
install.packages("digest")
library(digest)
library(stringr)
library(wordcloud2)
library(tm)
buildDictionary(ext_dic = "woorimalsam")
library(KoNLP)
buildDictionary(ext_dic = "woorimalsam")
buildDictionary(ext_dic = "woorimalsam")
buildDictionary(ext_dic = "woorimalsam")
rl <- readLines("review.txt", encoding = "euc-kr")
rl <- gsub("'","",rl)
rl <- gsub("‘","",rl)
rl <- gsub("“","",rl)
rl <- gsub("”","",rl)
rl <- gsub('[ㄱ-ㅎ]','',rl)
rl <- gsub('(ㅜ|ㅠ)+','',rl)
rl <- gsub('[~!@#$%^&*()_+=?]<>','',rl)
rl <- gsub("\\d+","",rl)
rl <- gsub("\\n","",rl)
rl <- gsub("\\.","",rl)
rl <- gsub("\n","",rl)
rl <- gsub("-","",rl)
rll <- lapply(rl, extractNoun)
head(rll)
gsub_txt <- readLines("c_gsub.txt")
cnt_txt <- length(gsub_txt)
for (i in 1:cnt_txt) {
rll <- gsub((gsub_txt[i]),"",rll)
}
rlf <- Filter(function(x) ( nchar(x) <= 7 & nchar(x) >= 2),rll)
rlu <- unlist(rlf)
sw <- sort(table(rlf), decreasing = T)
head(sw,30)
a <- head(sw,40)
wordcloud2(a)
wordcloud2(a)
local({
# The directory where Pandoc will be extracted. Feel free
# to adjust this path as appropriate.
dir <- "~/rstudio-pandoc"
# The version of Pandoc to be installed.
version <- "2.7.1"
# Create and move to the requested directory.
dir.create(dir, showWarnings = FALSE, recursive = TRUE)
owd <- setwd(dir)
on.exit(setwd(owd), add = TRUE)
# Construct path to pandoc.
root <- "https://s3.amazonaws.com/rstudio-buildtools"
suffix <- sprintf("pandoc-%s-windows-x86_64.zip", version)
url <- file.path(root, "pandoc-rstudio", version, suffix)
# Download and extract pandoc.
file <- basename(url)
utils::download.file(url, destfile = file)
utils::unzip(file)
unlink(file)
# Write .Renviron to update the version of Pandoc used.
entry <- paste("RSTUDIO_PANDOC", shQuote(path.expand(dir)), sep = " = ")
contents <- if (file.exists("~/.Renviron")) readLines("~/.Renviron")
filtered <- grep("^RSTUDIO_PANDOC", contents, value = TRUE, invert = TRUE)
amended <- union(filtered, entry)
writeLines(amended, "~/.Renviron")
# Report change to the user.
writeLines("Updated .Renviron:\n")
writeLines(amended)
writeLines("\nPlease restart RStudio for these changes to take effect.")
})
